"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendEvent = void 0;
const api_service_1 = require("./api/schemes/api-service");
const requests_1 = require("./api/requests");
async function sendEvent(auth, event) {
    const apiService = (0, api_service_1.generateAPIServiceScheme)();
    const response = await (0, requests_1.sendRequest)(apiService, auth, 'forwardsReceivedEvent', event);
    console.log('KEPTN: Event was sent.');
    if ('keptnContext' in response) {
        console.log(`KEPTN: Event keptnContext: ${response.keptnContext}`);
    }
    else {
        console.log(`KEPNT: Error! keptnContext didn't find in respose. Response: '${response}'`);
        throw new Error();
    }
    return response.keptnContext;
}
exports.sendEvent = sendEvent;
